<html lang="ja"><head>
  <meta charset="UTF-8">
  <title>ÂêçÂà∫„Éó„É¨„Éì„É•„Éº</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Helvetica Neue', sans-serif;
      background-color: #ffffff;
      overflow: auto;
    }

    body {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  overflow-x: hidden; /* üëà Ê®™„Çπ„ÇØ„É≠„Éº„É´Á¶ÅÊ≠¢ÔºÅ */
  padding-bottom: 0px; 
}
    .main-wrapper {
      position: relative;
      min-height: 100vh;
      padding-bottom: 140px; /* „ÉÑ„Éº„É´„Éê„Éº„ÇíËÄÉÊÖÆ */
      box-sizing: border-box;
    }
    .card {
      width: 90%;
      max-width: 700px;
      margin: 30px auto;
      border: 2px solid #ccc;
      border-radius: 10px;
      background-color: white;
      overflow-y: auto;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
    }

   .header-bar {
  background: linear-gradient(90deg, #ffc1e3, #c1f0f6);
  height: 40px;
}

    .student-id {
      display: flex;
      flex-direction: row;
      padding: 20px;
      gap: 20px;
    }

    .left-section {
      width: 40%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .left-section img {
      width: 125px;
      height: 125px;
      object-fit: cover;
      border-radius: 15px;
      cursor: pointer;
    }

    .info-section {
      width: 60%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      font-size: 14px;
      line-height: 1.6;
    }

    .editable-text {
      border: none;
      background: transparent;
      border-bottom: 1px solid #ccc;
      font-size: 14px;
      width: 100%;
    }
body {
  padding-bottom: 10px;
  box-sizing: border-box;
}

    .toolbar {
      position: fixed;
      bottom: 5px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      padding: 10px 16px;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      display: flex;
      gap: 16px;
      z-index: 1000;
      align-items: center;
      
    }

    .toolbar img {
      width: 28spx;
      height: 28px;
      cursor: pointer;
    }

    .toolbar button {
      padding: 4px 12px;
      border: none;
      background: #eee;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
    }

        .hidden-input {
      opacity: 0;
      position: absolute;
      pointer-events: auto;
    }


    .sns-bar {
      margin: 20px auto;
      padding-left: 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      z-index: 900;
    }

    .sns-item {
      background: white;
      border-radius: 12px;
      padding: 10px 16px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 16px;
      max-width: fit-content;
    }

    .sns-item img {
      width: 20px;
      height: 20px;
      cursor: pointer;
    }

    .sns-input {
      margin-left: 36px;
      margin-top: 8px;
      display: none;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 5px 10px;
      width: 220px;
      font-size: 14px;
    }

    .sns-wrapper {
      display: flex;
      flex-direction: column;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 800;
      display: none;
    }

    .deco-img {
      position: fixed;
      width: 100px;
      height: auto;
      cursor: move;
      z-index: 950;
      user-select: none;
      touch-action: none;
    }
  .text-sticker {
  position: absolute;
  font-size: 20px;
  font-weight: bold;
  color: #222;
  background: transparent;
  border: none;
  padding: 0;
  z-index: 970;
  max-width: 80vw;
  word-break: break-word;
  user-select: none;
  cursor: move;
}
.sns-item {
  position: relative; /* „Éú„Çø„É≥„Çí‰∏ä„Å´Èáç„Å≠„Çã„Åü„ÇÅ„Å´ÂøÖË¶Å */
}

.sns-delete-btn {
  position: absolute;
  top: -8px;
  right: -8px;
  width: 18px;
  height: 18px;
  cursor: pointer;
  z-index: 10;
}
#bg-template-list::-webkit-scrollbar {
  display: none;
}
.youtube-section {
  margin-top: 10px;
  margin-bottom: 60px; /* ‚Üê ËøΩÂä†ÔºÅ */
  text-align: center;
}
#youtube-url {
  width: 70%;
  max-width: 500px;
  padding: 5px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 14px;
  margin-top: 5px;
}
#youtube-player {
  margin: 0;
  padding: 0;
  line-height: 0;
}
iframe {
  width: 100%;
  height: 200px; /* ‚Üê aspect-ratio„Å®‰ΩµÁî®„Åõ„ÅöÊòéÁ§∫ÊåáÂÆö„ÅßÈ´ò„ÅïÂõ∫ÂÆö */
  border: none;
  margin: 0 auto;
  padding: 0;
}
body {
  box-sizing: border-box;
}
body {
  overscroll-behavior: contain; /* ‚Üê iOS„Çπ„ÇØ„É≠„Éº„É´Ë∑≥„Å≠Ëøî„Çä„ÇíÊäëÂà∂ */
  padding-bottom: 80px;
}
#page-wrapper {
  position: relative;
  min-height: 100vh;
  overflow: visible;
}

  </style>
</head>
<body>
  <div id="page-wrapper">
  <div class="main-wrapper">
  <div class="card">
    <div class="header-bar"></div>
    <div class="student-id">
      <div class="left-section">
        <img id="profile-img" src="data:image/jpeg;base64,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" alt="„Éó„É≠„Éï„Ç£„Éº„É´ÁîªÂÉè">
        <input type="file" accept="image/*" id="profile-input" class="hidden-input">
      </div>
      <div class="info-section">
        <input type="text" class="editable-text" placeholder="ÂêçÂâç" value="">
        <input type="text" class="editable-text" placeholder="Ë™ïÁîüÊó•" value="">
        <input type="text" class="editable-text" placeholder="Âπ¥ÈΩ¢" value="">
        <input type="text" class="editable-text" placeholder="Âá∫Ë∫´Âú∞" value="">
        <input type="text" class="editable-text" placeholder="Ë∂£Âë≥" value="">
      </div>
    </div>
  </div>

 <!-- ‚ñº SNS„Ç¢„Ç§„Ç≥„É≥„Å®ÂÖ•ÂäõÊ¨Ñ -->
<div class="sns-bar">
  <div class="sns-wrapper">
    <div class="sns-item" style="position: relative; background: linear-gradient(45deg, #feda75, #fa7e1e, #d62976, #962fbf, #4f5bd5); color: white; padding: 10px 15px; border-radius: 10px; font-weight: bold; display: inline-flex; align-items: center; gap: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.15);">
      <img src="/static/instagram_icon.jpeg" alt="Instagram" onclick="handleIconClick('instagram')" style="width: 30px; height: 30px;">
      Instagram
      
    </div>
    <input id="input-instagram" class="sns-input" placeholder="https://www.instagram.com/yourid" onblur="handleBlur('instagram')">
  </div>

  <div class="sns-wrapper">
    <div class="sns-item" style="position: relative; background: #000000; color: white; padding: 10px 15px; border-radius: 10px; font-weight: bold; display: inline-flex; align-items: center; gap: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.15);">
      <img src="/static/X_icon.jpeg" alt="X" onclick="handleIconClick('x')" style="width: 28px; height: 28px;">
    ÔºàÊóßTwitterÔºâ
      
    </div>
    <input id="input-x" class="sns-input" placeholder="https://twitter.com/yourid" onblur="handleBlur('x')">
  </div>

  <div class="sns-wrapper">
    <div class="sns-item" style="position: relative; background: linear-gradient(45deg, #25F4EE, #FE2C55); color: white; padding: 10px 15px; border-radius: 10px; font-weight: bold; display: inline-flex; align-items: center; gap: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.15);">
      <img src="/static/tiktok_icon.jpeg" alt="TikTok" onclick="handleIconClick('tiktok')" style="width: 22px; height: 22px;">
      TikTok
      
    </div>
    <input id="input-tiktok" class="sns-input" placeholder="https://www.tiktok.com/@yourid" onblur="handleBlur('tiktok')">
  </div>
</div>

<!-- ‚ñº Ëá™Áî±Ë®òÂÖ•Ê¨ÑÔºà„Éê„ÉÑ‰ªò„ÅçÔºâ -->
<div id="extra-text-wrapper" class="sns-wrapper" style="margin-top: 20px; position: relative;">
  
  <textarea id="extra-text" class="editable-text" placeholder="Ë®òÂÖ•Ê¨Ñ" style="
    margin-top: 3px;
    margin-left: 20px;
    padding: 14px 18px;
    border-radius: 14px;
    border: 1px solid #ccc;
    width: 90vw;
    max-width: 650px;
    height: 150px;
    font-size: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.12);
    resize: none;
    line-height: 1.6;
    background-color: #fff;
    box-sizing: border-box;
  " value="„Çπ„Éù„Éº„ÉÑÂ•Ω„Åç">„Çπ„Éù„Éº„ÉÑÂ•Ω„Åç</textarea>
<input type="hidden" id="hidden-extra-text" name="extra-text" value="„Çπ„Éù„Éº„ÉÑÂ•Ω„Åç"></div>




<!-- ‚ñº YouTubeÂÖ•ÂäõÊ¨Ñ -->
<div class="youtube-section" style="position: relative; margin-top: 20px;">
  <img src="/static/batu.jpeg" alt="ÂâäÈô§" class="sns-delete-btn" onclick="hideYouTubeSection()" style="position: absolute; top: 15px; right: 20px; width: 18px; height: 18px; cursor: pointer; z-index: 10; display: none;">

  <!-- „Åì„Åì„ÇíÂÖà„Å´ -->
  <div id="youtube-player" style="padding: 0; text-align: center;"></div>

  <!-- Ë¶ãÂá∫„Åó -->
  <div style="font-weight: bold; font-size: 14px; margin-bottom: 6px; text-align: left; padding-left: 5vw;">
    URL<br><span style="font-size: 12px; color: #555;">YouTube</span>
  </div>

  <!-- ÂÖ•ÂäõÊ¨Ñ„Å®„Éú„Çø„É≥ -->
  <input type="text" id="youtube-url" placeholder="YouTube„ÅÆURL„ÇíÂÖ•Âäõ" style="width: 84vw; max-width: 500px; padding: 10px; border: 1px solid rgb(204, 204, 204); border-radius: 10px; font-size: 14px; display: none;">
  <button onclick="embedYouTubeVideo()" style="margin-left: 20px; padding: 8px 12px; font-size: 14px; border-radius: 8px; background: rgb(240, 240, 240); display: none;">ÂèçÊò†</button>
</div>


  <canvas id="draw-canvas" width="390" height="663" style="display: none;"></canvas>
  <input type="file" id="background-input" class="hidden-input" accept="image/*" onchange="loadBackgroundImage(event)">
  <input type="file" id="deco-input" class="hidden-input" accept="image/*" onchange="addDecoImage(event)">
  <input type="color" id="color-picker" class="hidden-input" onchange="changeBarColor(event)">
<button id="finish-button" style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: rgb(238, 238, 238); border: medium; padding: 6px 16px; font-size: 16px; border-radius: 10px; box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 6px; z-index: 1001; cursor: pointer; display: none;" disabled="">ÁîüÊàê‰∏≠...</button>
 <div class="toolbar" id="toolbar" style="display: none;">
    <img src="/static/upload.jpeg" onclick="toggleBackgroundList()">
    <img src="/static/pen_off.jpeg" onclick="toggleTextMode()" id="text-toggle-icon">
    <div style="position: relative; width: 28px; height: 28px;">
  <img src="/static/student.jpeg" style="width: 100%; height: 100%; cursor: pointer;">
  <input type="color" id="color-picker" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;
                opacity: 0; cursor: pointer;" onchange="changeBarColor(event)">
</div>
<img src="/static/restore.jpeg" onclick="restoreSNS()" style="width: 28px; height: 28px; cursor: pointer;">
    <img src="/static/photo_icon.jpeg" onclick="document.getElementById('deco-input').click()">
    <button onclick="togglePreview()" id="check-button">Á¢∫Ë™ç</button>
  </div>

  <script>
    const urls = { instagram: '', x: '', tiktok: '' };
    const canvas = document.getElementById('draw-canvas');
    const ctx = canvas.getContext('2d');
  function togglePreview() {
  const toolbar = document.getElementById('toolbar');
  const finalBtn = document.getElementById('finish-button');

  toolbar.style.display = 'none';
  finalBtn.style.display = 'block';
}
    let drawing = false, drawEnabled = false;
    let paths = [], currentPath = [];

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      redraw();
    }

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function redraw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.strokeStyle = '#000';
      ctx.lineWidth = 2;
      for (const path of paths) {
        ctx.beginPath();
        path.forEach(([x, y], i) => i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y));
        ctx.stroke();
      }
      if (currentPath.length) {
        ctx.beginPath();
        currentPath.forEach(([x, y], i) => i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y));
        ctx.stroke();
      }
    }

    canvas.addEventListener('mousedown', e => {
      if (!drawEnabled) return;
      drawing = true;
      currentPath = [[e.offsetX, e.offsetY]];
    });

    canvas.addEventListener('mousemove', e => {
      if (!drawing || !drawEnabled) return;
      currentPath.push([e.offsetX, e.offsetY]);
      redraw();
    });

    canvas.addEventListener('mouseup', () => {
      if (!drawing || !drawEnabled) return;
      drawing = false;
      paths.push(currentPath);
      currentPath = [];
    });

    function toggleTextMode() {
      drawEnabled = !drawEnabled;
      canvas.style.display = drawEnabled ? 'block' : 'none';
      const icon = document.getElementById('text-toggle-icon');
      icon.src = drawEnabled ? '/static/pen_on.jpeg' : '/static/pen_off.jpeg';
    }

    function loadBackgroundImage(e) {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = () => {
        document.body.style.backgroundImage = `url('${reader.result}')`;
      };
      reader.readAsDataURL(file);
    }

    function changeBarColor(e) {
      document.documentElement.style.setProperty('--bar-color', e.target.value);
    }

    function handleIconClick(service) {
      const input = document.getElementById(`input-${service}`);
      if (urls[service]) {
        window.open(urls[service], '_blank');
      } else {
        input.style.display = 'block';
        input.focus();
      }
    }

    function handleBlur(service) {
      const input = document.getElementById(`input-${service}`);
      const value = input.value.trim();
      if (value) urls[service] = value;
      input.style.display = 'none';
    }

   function addDecoImage(e) {
  const file = e.target.files[0];
  if (!file) return;

  const img = document.createElement('img');
  const reader = new FileReader();
reader.onload = () => {
  img.src = reader.result;
};
reader.readAsDataURL(file);

 const scrollX = window.scrollX;
const scrollY = window.scrollY;

img.className = 'deco-img';
img.style.position = 'absolute';
img.style.left = '150px';
img.style.top = '300px';

img.style.transform = 'rotate(0deg) scale(1)';
img.style.touchAction = 'none';
img.draggable = false;

const container = document.getElementById('page-wrapper') || document.body;
container.appendChild(img);

let posX = 150 + scrollX, posY = 300 + scrollY, scale = 1, rotation = 0;
let isDragging = false, offsetX = 0, offsetY = 0;
let longPressTimer = null;

  // PCÁî®„Éû„Ç¶„ÇπÊìç‰Ωú
  img.addEventListener('mousedown', e => {
    isDragging = true;
    offsetX = e.offsetX;
    offsetY = e.offsetY;
    longPressTimer = setTimeout(() => img.remove(), 1000);
  });

  document.addEventListener('mousemove', e => {
    if (!isDragging) return;
    clearTimeout(longPressTimer);
    posX = e.pageX - offsetX;
    posY = e.pageY - offsetY;
    img.style.left = `${posX}px`;
    img.style.top = `${posY}px`;
  });

  document.addEventListener('mouseup', () => {
    isDragging = false;
    clearTimeout(longPressTimer);
  });

  // „Çπ„Éû„ÉõÁî®„Çø„ÉÉ„ÉÅÊìç‰Ωú
  let initialDistance = null;
  let initialAngle = null;
  let startScale = 1;
  let startRotation = 0;

  img.addEventListener('touchstart', e => {
    if (e.touches.length === 1) {
      offsetX = e.touches[0].clientX - posX;
      offsetY = e.touches[0].clientY - posY;
      longPressTimer = setTimeout(() => img.remove(), 1000);
    } else if (e.touches.length === 2) {
      clearTimeout(longPressTimer);
      initialDistance = getDistance(e.touches[0], e.touches[1]);
      initialAngle = getAngle(e.touches[0], e.touches[1]);
      startScale = scale;
      startRotation = rotation;
    }
  }, { passive: false });

  img.addEventListener('touchmove', e => {
    e.preventDefault();
    if (e.touches.length === 1) {
      clearTimeout(longPressTimer);
      posX = e.touches[0].clientX - offsetX;
      posY = e.touches[0].clientY - offsetY;
      img.style.left = `${posX}px`;
      img.style.top = `${posY}px`;
    } else if (e.touches.length === 2) {
      const newDistance = getDistance(e.touches[0], e.touches[1]);
      const newAngle = getAngle(e.touches[0], e.touches[1]);

      scale = startScale * (newDistance / initialDistance);
      if (scale < 0.2) scale = 0.2;

      rotation = startRotation + (newAngle - initialAngle);
      img.style.transform = `rotate(${rotation}deg) scale(${scale})`;
    }
  }, { passive: false });

  img.addEventListener('touchend', () => {
    clearTimeout(longPressTimer);
  });

  function getDistance(t1, t2) {
    return Math.hypot(t2.clientX - t1.clientX, t2.clientY - t1.clientY);
  }

  function getAngle(t1, t2) {
    return Math.atan2(t2.clientY - t1.clientY, t2.clientX - t1.clientX) * 180 / Math.PI;
  }
}

    function downloadCard() {
      alert("„Åì„ÅÆÈÉ®ÂàÜ„ÅßÁîªÂÉèÂåñÔºÜZIPÂåñ„Å™„Å©„ÅÆÂá¶ÁêÜ„ÇíË°å„ÅÑ„Åæ„Åô");
    }

    window.onload = () => {
      canvas.style.display = 'none';
      const profileImg = document.getElementById("profile-img");
      const profileInput = document.getElementById("profile-input");

      profileImg.addEventListener("click", () => {
        profileInput.click();
      });

      profileInput.addEventListener("change", (e) => {
        const file = e.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = () => {
          profileImg.src = reader.result;
        };
            fetch('/upload_profile_image', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ image: reader.result })
    })
    .then(response => response.json())
    .then(data => {
      console.log('‰øùÂ≠òÊàêÂäü:', data);
    })
    .catch(error => {
      console.error('„Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÂ§±Êïó:', error);
    });

        reader.readAsDataURL(file);
      });
    };
let textEnabled = false;
let textFirstTapDone = false; // ‚Üê ËøΩÂä†ÔºöÂàùÂõû„Çπ„Ç≠„ÉÉ„Éó„Éï„É©„Ç∞

document.getElementById("text-toggle-icon").addEventListener("click", () => {
  textEnabled = !textEnabled;
  textFirstTapDone = false; // ON„Å´„Åó„Åü„Å®„Åç„Å´„É™„Çª„ÉÉ„Éà
});

document.body.addEventListener("click", (e) => {
  if (!textEnabled) return;

  if (!textFirstTapDone) {
    textFirstTapDone = true;
    return; // ‚Üê ÂàùÂõû„ÅØ„Çπ„Ç≠„ÉÉ„Éó„Åó„Å¶ÂèçÂøú„Å™„Åó
  }

  if (e.target.tagName === "INPUT" || e.target.tagName === "TEXTAREA") return;
 const margin = 20;
const inputWidth = 150;
const maxX = window.innerWidth - inputWidth - margin;
const x = Math.min(e.pageX, maxX);
const y = e.pageY;

const input = document.createElement("input");
input.type = "text";
input.placeholder = "„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÖ•Âäõ";
input.className = "text-sticker";
input.style.position = "absolute";
input.style.left = `${x}px`;
input.style.top = `${y}px`;
input.style.width = '150px';  // Âõ∫ÂÆö„Çµ„Ç§„Ç∫„ÅßÊ®™„Çπ„ÇØ„É≠„Éº„É´Èò≤Ê≠¢
input.style.maxWidth = 'calc(100vw - 40px)';  // Âøµ„ÅÆ„Åü„ÇÅ„ÅÆÂÆâÂÖ®Á≠ñ
const container = document.getElementById('page-wrapper');
container.appendChild(input);

// ÂÖ•Âäõ„ÅåÁ©∫„ÅÆ„Åæ„Åæ„Éï„Ç©„Éº„Ç´„Çπ„ÅåÂ§ñ„Çå„Åü„ÇâÊ∂à„ÅôÂá¶ÁêÜ
input.addEventListener("blur", () => {
  if (input.value.trim() === "") {
    input.remove();
  }
});
input.focus();
  let offsetX, offsetY, dragging = false;

  input.addEventListener("mousedown", (ev) => {
    dragging = true;
    offsetX = ev.offsetX;
    offsetY = ev.offsetY;
  });

  document.addEventListener("mousemove", (ev) => {
    if (!dragging) return;
    input.style.left = `${ev.pageX - offsetX}px`;
    input.style.top = `${ev.pageY - offsetY}px`;
  });

  document.addEventListener("mouseup", () => {
    dragging = false;
  });

  // Èï∑Êäº„Åó„ÅßÂâäÈô§Ôºà„Çπ„Éû„ÉõÁî®Ôºâ
  let longPressTimer;
  input.addEventListener("touchstart", () => {
    longPressTimer = setTimeout(() => {
      input.remove();
    }, 1000);
  });

  input.addEventListener("touchend", () => {
    clearTimeout(longPressTimer);
  });
});
// SNSÈ†ÖÁõÆ„ÇíÈùûË°®Á§∫„Å´„Åô„ÇãÈñ¢Êï∞
function hideSNS(service) {
  const wrapper = document.querySelector(`.sns-wrapper:has(#input-${service})`);
  if (wrapper) wrapper.style.display = 'none';
}
function showHiddenSNS() {
  ['instagram', 'x', 'tiktok'].forEach(service => {
    const wrapper = document.querySelector(`.sns-wrapper:has(#input-${service})`);
    if (wrapper && wrapper.style.display === 'none') {
      wrapper.style.display = 'block';
    }
  });
}

function toggleBackgroundList() {
  const list = document.getElementById('bg-template-list');
  list.style.display = (list.style.display === 'none' || list.style.display === '') ? 'flex' : 'none';
}

function setBackground(url) {
  document.body.style.backgroundImage = `url('${url}')`;
  document.getElementById('bg-template-list').style.display = 'none';
}
function hideAddLink(event) {
  event.stopPropagation(); // „ÄåshowHiddenSNS()„Äç„ÅåÂãï„Åã„Å™„ÅÑ„Çà„ÅÜ„Å´
  const addBtn = document.getElementById('add-link-button');
  if (addBtn) addBtn.style.display = 'none';
}function restoreSNS() {
  ['instagram', 'x', 'tiktok'].forEach(service => {
    const wrapper = document.querySelector(`.sns-wrapper:has(#input-${service})`);
    if (wrapper) wrapper.style.display = 'flex';
  });

  const addBtn = document.getElementById('add-link-button');
  if (addBtn) addBtn.style.display = 'flex';
  const extraTextWrapper = document.getElementById('extra-text-wrapper');
  if (extraTextWrapper) extraTextWrapper.style.display = 'block';
  const youtubeSection = document.querySelector('.youtube-section');
  if (youtubeSection) youtubeSection.style.display = 'block';
  const diagnosisWrapper = document.getElementById("diagnosis-wrapper");
  if (diagnosisWrapper) diagnosisWrapper.style.display = "block";
}
function hideExtraText() {
  const wrapper = document.getElementById('extra-text-wrapper');
  if (wrapper) wrapper.style.display = 'none';
}
function hideDiagnosisButton() {
  const diagnosisWrapper = document.getElementById("diagnosis-wrapper");
  if (diagnosisWrapper) diagnosisWrapper.style.display = "none";
}

function restoreDiagnosisButton() {
  const diagnosisWrapper = document.getElementById("diagnosis-wrapper");
  if (diagnosisWrapper) diagnosisWrapper.style.display = "block";
}

document.getElementById('finish-button').addEventListener('click', async () => {
  const finishBtn = document.getElementById('finish-button');
  
  finishBtn.disabled = true;
  finishBtn.textContent = 'ÁîüÊàê‰∏≠...';
  
// ÂÖ•ÂäõÂÄ§„ÇíË°®Á§∫Áî®„ÅÆË¶ÅÁ¥†„Å´ÂèçÊò†
// ÂÖ•ÂäõÂÄ§„ÇíË°®Á§∫„Ç®„É™„Ç¢„Å´ÂèçÊò†„Åô„ÇãÔºàÂÆåÊàêÂâç„Å´ÂøÖË¶ÅÔºÅÔºâ
// ÂÖ•ÂäõÂÄ§„Çí value Â±ûÊÄß„Å´ÂèçÊò†ÔºàFirebase„Å´ÂèçÊò†„Åï„Çå„Çã„Çà„ÅÜ„Å´Ôºâ
function escapeHTML(str) {
  return str.replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#39;");
}

const editableTexts = document.querySelectorAll('.editable-text, textarea');
editableTexts.forEach(input => {
  const val = input.value.trim();
  input.setAttribute('value', escapeHTML(val));
  if (input.tagName === 'TEXTAREA') {
    input.textContent = escapeHTML(val);
  }
});

editableTexts.forEach((input) => {
  input.setAttribute('value', input.value.trim());
});

// Ë®òÂÖ•Ê¨ÑÔºàtextareaÔºâ„ÅÆÂÄ§„Çí value „Å´ÂèçÊò†
const extraInput = document.getElementById('extra-text');
if (extraInput) {
  const text = extraInput.value.trim();
  extraInput.setAttribute('value', text);

  let hidden = document.getElementById('hidden-extra-text');
  if (!hidden) {
    hidden = document.createElement('input');
    hidden.type = 'hidden';
    hidden.id = 'hidden-extra-text';
    hidden.name = 'extra-text';
    extraInput.parentNode.appendChild(hidden); // ‚úÖ ‰øÆÊ≠£ÔºÅ
  }
  hidden.value = text;
   extraInput.textContent = text;
}

  const toolbar = document.getElementById('toolbar');
  if (toolbar) toolbar.style.display = 'none';


  const youtubeBatsu = document.querySelector('.youtube-section .sns-delete-btn');
  if (youtubeBatsu) youtubeBatsu.style.display = 'none';
  // ‚úÖ YouTubeÂÖ•ÂäõÊ¨Ñ„Å®ÂèçÊò†„Éú„Çø„É≥„ÇíÈùûË°®Á§∫„Å´„Åô„Çã
const youtubeInput = document.getElementById('youtube-url');
const youtubeButton = document.querySelector('.youtube-section button');
if (youtubeInput) youtubeInput.style.display = 'none';
if (youtubeButton) youtubeButton.style.display = 'none';

// SNS„Éê„ÉÑÂâäÈô§
document.querySelectorAll('.sns-wrapper .sns-delete-btn').forEach(btn => {
  if (btn.parentNode) {
    btn.parentNode.removeChild(btn);
  }
});

  const extraBatsu = document.querySelector('#extra-text-wrapper .sns-delete-btn');
  if (extraBatsu) extraBatsu.style.display = 'none';
  const diagnosisBatsu = document.querySelector('#diagnosis-wrapper .sns-delete-btn');
  if (diagnosisBatsu) diagnosisBatsu.style.display = 'none';
  // SNS„É™„É≥„ÇØ„ÇíHTML„Å´Âüã„ÇÅËæº„ÇÄÂá¶ÁêÜÔºàÂÆåÊàê„Éú„Çø„É≥Âá¶ÁêÜ„ÅÆ‰∏≠„Å´ËøΩÂä†Ôºâ
['instagram', 'x', 'tiktok'].forEach(service => {
  const wrapper = document.querySelector(`.sns-wrapper:has(#input-${service})`);
  const link = urls[service];
  if (wrapper && link) {
    const snsItem = wrapper.querySelector('.sns-item');
    if (snsItem) {
      const img = snsItem.querySelector('img'); // „Ç¢„Ç§„Ç≥„É≥ÁîªÂÉè
      const label = snsItem.childNodes[1]?.textContent?.trim() || service;

      // a„Çø„Ç∞„Åß„É©„ÉÉ„Éó„Åó„Å¶„ÇØ„É™„ÉÉ„ÇØÂèØËÉΩ„Å´
      const anchor = document.createElement('a');
      anchor.href = link;
      anchor.target = '_blank';
      anchor.style.display = 'flex';
      anchor.style.alignItems = 'center';
      anchor.style.gap = '10px';
      anchor.style.textDecoration = 'none';
      anchor.style.color = 'inherit';

      anchor.appendChild(img);
      anchor.appendChild(document.createTextNode(label));

      snsItem.innerHTML = '';
      snsItem.appendChild(anchor);
    }
  }
});


  // ‚úÖ „Éó„É≠„Éï„Ç£„Éº„É´ÁîªÂÉè„Åå blob: „Å†„Å£„Åü„Çâ‰øùÂ≠òÊ∏à„Åø„ÅÆURL„Å´Êõ∏„ÅçÊèõ„Åà„Çã
  const profileImg = document.getElementById("profile-img");
  if (profileImg && profileImg.src.startsWith("blob:")) {
    profileImg.src = "/static/uploads/profile.jpeg";
  }
  if (profileImg && profileImg.src.startsWith("data:image/")) {
    profileImg.src = await compressImage(profileImg.src);
  }

  const decoImgs = document.querySelectorAll("img.deco-img");
  for (const img of decoImgs) {
    if (img.src.startsWith("data:image/")) {
      img.src = await compressImage(img.src);
    }
  }
    finishBtn.style.display = 'none';

    const html = document.documentElement.outerHTML;

  // ‚úÖ base64ÁîªÂÉè„ÅÆ„ÅÜ„Å°„ÄÅ„Éó„É≠„Éï„Ç£„Éº„É´ÁîªÂÉè„Å®„Éá„Ç≥ÁîªÂÉè„Å†„Åë„ÅØÂâäÈô§ÂØæË±°„Åã„ÇâÈô§Â§ñÔºÅ
  const cleanedHTML = html.replace(/<img[^>]+src="data:image\/[^"]+"[^>]*>/g, (match) => {
    if (match.includes('id="profile-img"') || match.includes('class="deco-img"')) {
      return match; // ‚Üí „Éó„É≠„Éï„Ç£„Éº„É´ÁîªÂÉè or „Éá„Ç≥ÁîªÂÉè„ÅØ„Åù„ÅÆ„Åæ„ÅæÊÆã„Åô
    } else {
      return match.replace(/src="data:image\/[^"]+"/, 'src="/static/deleted_image.jpeg"');
    }
  });

  const formData = new FormData();
  formData.append('html', cleanedHTML);

  const res = await fetch('/generate_url', {
    method: 'POST',
    body: formData
  });

  const data = await res.json();
  if (data.url) {
    finishBtn.textContent = 'ÁîüÊàêÂÆå‰∫Ü';
    finishBtn.style.display = 'block';

    const output = document.createElement('div');
    output.id = 'shared-url-box';
    output.innerHTML = `<p>„Åì„ÅÆURL„ÇíÂÖ±Êúâ„Åß„Åç„Åæ„Åôüëá</p><a href="${data.url}" target="_blank">${data.url}</a>`;
    output.style.cssText = `...`; // „Çπ„Çø„Ç§„É´ÁúÅÁï•ÂèØ
    document.body.appendChild(output);

    setTimeout(() => {
      const box = document.getElementById('shared-url-box');
      if (box) box.remove();
    }, 600000);
  } else {
    alert('URL„ÅÆÁô∫Ë°å„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
    finishBtn.disabled = false;
    finishBtn.textContent = 'ÂÆåÊàê';
    finishBtn.style.display = 'block';
  }
});



function embedYouTubeVideo() {
  const input = document.getElementById('youtube-url');
  const player = document.getElementById('youtube-player');
  let url = input.value.trim();

  // m.youtube ‚Üí www.youtube „Å´Â§âÊèõ
  url = url.replace("m.youtube.com", "www.youtube.com");

  const match = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]+)/);
  if (match && match[1]) {
    const videoId = match[1];
    player.innerHTML = `
      <iframe width="100%" height="200" 
      style="max-width: 90vw;"  
        src="https://www.youtube.com/embed/${videoId}" 
        frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
      </iframe>
    `;
  } else {
    player.innerHTML = "<p style='color:red;'>Ê≠£„Åó„ÅÑYouTube„ÅÆURL„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>";
  }
}
function hideYouTubeSection() {
    const section = document.querySelector('.youtube-section');
    if (section) {
      section.style.display = 'none';
    }
  }
  // base64ÁîªÂÉè„Çí„É™„Çµ„Ç§„Ç∫ÔºãÂúßÁ∏Æ„Åô„ÇãÈñ¢Êï∞
async function compressImage(base64, maxSize = 300) {
  return new Promise((resolve) => {
    const img = new Image();
    img.onload = () => {
      const canvas = document.createElement("canvas");

      const scale = Math.min(maxSize / img.width, maxSize / img.height, 1);
      canvas.width = img.width * scale;
      canvas.height = img.height * scale;

      const ctx = canvas.getContext("2d");
      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
      const compressed = canvas.toDataURL("image/jpeg", 0.6); // 60%ÂúßÁ∏Æ
      resolve(compressed);
    };
    img.src = base64;
  });
}
function startDiagnosis() {
  const textInputs = Array.from(document.querySelectorAll('.editable-text')).map(i => i.value).join(' ');
  const extra = document.getElementById('extra-text')?.value || '';
  const combined = (textInputs + ' ' + extra).toLowerCase();

  let type = 'INFP'; // „Éá„Éï„Ç©„É´„Éà

  if (combined.includes('Ë®àÁîª') || combined.includes('Êï¥ÁêÜ')) type = 'J';
  else if (combined.includes('„Å≤„Çâ„ÇÅ„Åç') || combined.includes('Ëá™Áî±')) type = 'P';

  if (combined.includes('„Å≤„Å®„Çä') || combined.includes('Èùô„Åã')) type = 'I';
  else if (combined.includes('‰ª≤Èñì') || combined.includes('„ÉØ„Ç§„ÉØ„Ç§')) type = 'E';

  if (combined.includes('Áõ¥ÊÑü') || combined.includes('ÊÉ≥ÂÉè')) type = 'N';
  else if (combined.includes('ÁèæÂÆü') || combined.includes('ÂÆüÁî®')) type = 'S';

  if (combined.includes('ÂÖ±ÊÑü') || combined.includes('ÂÑ™„Åó')) type += 'F';
  else if (combined.includes('Ë´ñÁêÜ') || combined.includes('ÂàÜÊûê')) type += 'T';

  if (type.length < 4) type = 'INFP'; // ‰∏çÂÆåÂÖ®„Å™„ÇâÂàùÊúüÂÄ§„Å´

  const resultText = `„ÅÇ„Å™„Åü„ÅØ„Äå${type}„Çø„Ç§„Éó„Äç„Åã„ÇÇÔºÅÔºü`;

  document.getElementById('diagnosis-result').textContent = resultText;
  document.getElementById('diagnosis-modal').style.display = 'flex';

  // „Çø„ÉÉ„Éó„ÅßÈñâ„Åò„Çã
  document.getElementById('diagnosis-modal').addEventListener('click', () => {
    document.getElementById('diagnosis-modal').style.display = 'none';
  });
}

  </script>
<!-- Ê®™„Çπ„ÇØ„É≠„Éº„É´ÂèØËÉΩ„Å™ËÉåÊôØ„ÉÜ„É≥„Éó„É¨‰∏ÄË¶ß -->
<div id="bg-template-list" style="
  display: none;
  position: fixed;
  bottom: 70px;
  left: 50%;
  transform: translateX(-50%);
  background: white;
  padding: 10px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  z-index: 1100;
  max-width: 90vw;
  overflow-x: auto;
  gap: 10px;
  scrollbar-width: none; /* FirefoxÁî® */
  -ms-overflow-style: none; /* IEÁî® */
">
<!-- ‚ñº „Ç´„É°„É©„Ç¢„Ç§„Ç≥„É≥‰ªò„Åç„ÉÜ„É≥„Éó„É¨ËøΩÂä†„Åì„Åì„Åã„Çâ -->
<img src="/static/camera.jpeg" onclick="document.getElementById('background-input').click()" style="width:50px; height:50px; cursor:pointer; border-radius:8px; flex-shrink:0;">
<!-- ‚ñº „Ç´„É°„É©„Ç¢„Ç§„Ç≥„É≥‰ªò„Åç„ÉÜ„É≥„Éó„É¨ËøΩÂä†„Åì„Åì„Åæ„Åß -->
  <img src="/static/haikei_1.jpeg" onclick="setBackground('/static/haikei_1.jpeg')" style="width:50px; height:50px; cursor:pointer; border-radius:8px; flex-shrink:0;">
<img src="/static/haikei_2.jpeg" onclick="setBackground('/static/haikei_2.jpeg')" style="width:50px; height:50px; cursor:pointer; border-radius:8px; flex-shrink:0;">
<img src="/static/haikei_3.jpeg" onclick="setBackground('/static/haikei_3.jpeg')" style="width:50px; height:50px; cursor:pointer; border-radius:8px; flex-shrink:0;">
<img src="/static/haikei_4.jpeg" onclick="setBackground('/static/haikei_4.jpeg')" style="width:50px; height:50px; cursor:pointer; border-radius:8px; flex-shrink:0;">
<img src="/static/haikei_5.jpeg" onclick="setBackground('/static/haikei_5.jpeg')" style="width:50px; height:50px; cursor:pointer; border-radius:8px; flex-shrink:0;">
<img src="/static/haikei_6.jpeg" onclick="setBackground('/static/haikei_6.jpeg')" style="width:50px; height:50px; cursor:pointer; border-radius:8px; flex-shrink:0;">
<img src="/static/haikei_7.jpeg" onclick="setBackground('/static/haikei_7.jpeg')" style="width:50px; height:50px; cursor:pointer; border-radius:8px; flex-shrink:0;">
<img src="/static/haikei_8.jpeg" onclick="setBackground('/static/haikei_8.jpeg')" style="width:50px; height:50px; cursor:pointer; border-radius:8px; flex-shrink:0;">
<img src="/static/haikei_9.jpeg" onclick="setBackground('/static/haikei_9.jpeg')" style="width:50px; height:50px; cursor:pointer; border-radius:8px; flex-shrink:0;">
<img src="/static/haikei_10.jpeg" onclick="setBackground('/static/haikei_10.jpeg')" style="width:50px; height:50px; cursor:pointer; border-radius:8px; flex-shrink:0;">
<!-- „Åï„Çâ„Å´ËøΩÂä†„Åó„Å¶„ÇÇOKÔºÅ -->

</div>
<!-- ‚ñº ÂÖà„Å´„Éú„Çø„É≥„ÅÆ„Çπ„Çø„Ç§„É´ÂÆöÁæ©ÔºÅ -->
<style>
  #diagnosis-button {
    padding: 12px 24px;
    font-size: 17px;
    border-radius: 12px;
    background: linear-gradient(135deg, #ffffff 0%, #d6f2f9 40%, #ffd1e9 100%);
    color: #fff;
    font-weight: bold;
    font-family: 'Rounded Mplus 1c', 'Hiragino Maru Gothic ProN', sans-serif;
    border: none;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    letter-spacing: 1px;
    transition: all 0.2s ease-in-out;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3); /* ‚Üê „Åì„Åì„ÅßË¶ñË™çÊÄßUP */
  }

  #diagnosis-button:hover {
    background: linear-gradient(135deg, #ffd1e9, #d6f2f9, #ffffff);
    transform: scale(1.05);
  }
</style>

<!-- ‚ñº Ë®∫Êñ≠„Éú„Çø„É≥Ôºà„Éê„ÉÑ‰ªò„ÅçÔºâ -->
<div id="diagnosis-wrapper" style="position: relative; margin-top: 20px; text-align: center;">
  <img src="/static/batu.jpeg" alt="ÂâäÈô§" class="sns-delete-btn" onclick="hideDiagnosisButton()" style="position: absolute; top: -8px; right: 90px; width: 18px; height: 18px; cursor: pointer; z-index: 10; display: none;">
  <button id="diagnosis-button" onclick="startDiagnosis()">„Äá„Äá„Åï„Çì„ÅÆÁâπÂæ¥ÔºÅ</button>
</div>


<!-- ‚ñº „É¢„Éº„ÉÄ„É´Ë°®Á§∫ÈÉ®ÂàÜ -->
<div id="diagnosis-modal" style="display: none; position: fixed; top: 0px; left: 0px; width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.7); z-index: 9999; align-items: center; justify-content: center;">
  <div style="
    background: white;
    padding: 28px 24px;
    border-radius: 20px;
    max-width: 90vw;
    font-size: 13px;
    font-weight: bold;
    text-align: center;
    font-family: 'Comic Sans MS', 'Arial Rounded MT Bold', sans-serif;
    animation: fadeIn 0.6s ease-in-out;
    line-height: 1.6;
  " id="diagnosis-result"><div style="font-size: 20px;">„Äá„Äá„Åï„Çì„ÅØ„ÄåINTP„Çø„Ç§„Éó„Äç„Åã„ÇÇÔºÅÔºü</div><div>MBTIÁöÑ„Å´„ÅØÔºöË´ñÁêÜÁöÑ„ÅßÊé¢Á©∂ÂøÉ„ÅåÂº∑„ÅÑÊÄùÁ¥¢ÂÆ∂„Çø„Ç§„ÉóÔºÅ</div><div>„Ç´„É©„ÉºË®∫Êñ≠Ôºö‰∏≠ÈñìËâ≤ ‚Üí Â§öÊßòÊÄß„ÇíÂèó„ÅëÂÖ•„Çå„ÇãÊüîËªü„Å™„Çø„Ç§„ÉóÔºÅ</div><div>„Äá„Äá„Åï„Çì„ÅØ „Çπ„Éù„Éº„ÉÑ „ÅåÂ•Ω„Åç„Å™ÂÇæÂêë„Åå„ÅÇ„Çã„ÇàÔºÅ</div><div>‚Üí ÂÇæÂêëÔºöÂ§ñÂêëÁöÑ„Åß„Ç®„Éç„É´„ÇÆ„ÉÉ„Ç∑„É•</div><div style="margin-top:12px;">„Åì„ÅÆË©±È°å„ÇíÊåØ„Å£„Å¶„Åø„Çà„ÅÜüëá</div><div>‚öΩ Ë¶≥Êà¶Ê¥æ„Åã„Éó„É¨„Ç§Ê¥æ„ÅãËÅû„ÅÑ„Å¶„Åø„Çã„Å®ÊÑèÂ§ñ„Å™Ë©±„ÅåËÅû„Åë„Çã„Åã„ÇÇÔºÅ</div></div>
</div>

<style>
@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}
</style>

<script>
function startDiagnosis() {
  const textInputs = Array.from(document.querySelectorAll('.editable-text')).map(i => i.value).join(' ');
  const extra = document.getElementById('extra-text')?.value || '';
  const combined = (textInputs + ' ' + extra).toLowerCase();
  const barColor = getComputedStyle(document.documentElement).getPropertyValue('--bar-color').trim().toLowerCase();

  let type = '';

// I / E Âà§ÂÆö
if (combined.match(/„Å≤„Å®„Çä|Èùô„Åã|Êú¨|„ÇΩ„É≠|ÂÆ∂|ËêΩ„Å°ÁùÄ„Åè|„Ç¢„Éã„É°|ÂÜÖÁúÅ|Èªô„Çã|„Éû„Ç§„Éö„Éº„Çπ/)) {
  type += 'I';
} else if (combined.match(/‰ª≤Èñì|„Åø„Çì„Å™|„Ç´„É©„Ç™„Ç±|„Ç§„Éô„É≥„Éà|ÊóÖË°å|È£≤„Åø‰ºö|„Åä„Åó„ÇÉ„Åπ„Çä|È®í„Åê|SNS/)) {
  type += 'E';
} else {
  type += 'I';
}

// N / S Âà§ÂÆö
if (combined.match(/Á©∫ÊÉ≥|„Å≤„Çâ„ÇÅ„Åç|ÊÉ≥ÂÉè|„ÇØ„É™„Ç®„Ç§„ÉÜ„Ç£„Éñ|„Ç¢„Éº„Éà|Ââµ‰Ωú|Âì≤Â≠¶|Áõ¥ÊÑü|Â§¢/)) {
  type += 'N';
} else if (combined.match(/ÁèæÂÆü|ÂÆüÁî®|ÊóÖË°å|ÈÅãÂãï|ÊñôÁêÜ|„Ç¢„Ç¶„Éà„Éâ„Ç¢|ÂÖ∑‰Ωì|‰ΩìÈ®ì|‰∫îÊÑü/)) {
  type += 'S';
} else {
  type += 'N';
}

// T / F Âà§ÂÆöÔºà„Çπ„Ç≥„Ç¢ÂºèÔºâ
let tfScore = 0;
if (combined.match(/Ë´ñÁêÜ|ÂàÜÊûê|ÂäπÁéá|Êï∞Â≠ó|„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞|ÁêÜÂ±à|Êà¶Áï•|„Éá„Éº„Çø/)) tfScore += 1;
if (combined.match(/ÂÖ±ÊÑü|„ÇÑ„Åï„Åó„ÅÑ|ÂøúÊè¥|ÊÄù„ÅÑ„ÇÑ„Çä|„Ç±„Ç¢|ÊÑüÊÉÖ|Ê∂ô|Áõ∏Ë´á/)) tfScore -= 1;
if (barColor.includes('pink') || barColor.includes('#f')) tfScore -= 1;
if (barColor.includes('blue') || barColor.includes('#00f') || barColor.includes('navy')) tfScore += 1;

type += tfScore >= 0 ? 'T' : 'F';

// J / P Âà§ÂÆö
if (combined.match(/Ë®àÁîª|Êï¥ÁêÜ|„Çπ„Ç±„Ç∏„É•„Éº„É´|ÊôÇÈñìÁÆ°ÁêÜ|„É™„Çπ„Éà|Ê∫ñÂÇô|ÁÆ°ÁêÜ|ÁõÆÊ®ô|ÊÆµÂèñ„Çä/)) {
  type += 'J';
} else if (combined.match(/Ëá™Áî±|Ê∞ó„Åæ„Åæ|ÊüîËªü|„Éû„Ç§„Éö„Éº„Çπ|„Åù„ÅÆÂ†¥|ÊÄù„ÅÑ„Å§„Åç|Âç≥Ëàà/)) {
  type += 'P';
} else {
  type += 'P';
}


  const mbtiDescriptions = {
    INFP: "ÁêÜÊÉ≥‰∏ªÁæ©„ÅßÊÑüÂèóÊÄßË±ä„Åã„Å™Áôí„ÅóÁ≥ª„Çø„Ç§„ÉóÔºÅ",
    INTP: "Ë´ñÁêÜÁöÑ„ÅßÊé¢Á©∂ÂøÉ„ÅåÂº∑„ÅÑÊÄùÁ¥¢ÂÆ∂„Çø„Ç§„ÉóÔºÅ",
    INFJ: "‰∫∫„ÅÆÂøÉ„Å´ÂØÑ„ÇäÊ∑ª„ÅÜÈùô„Åã„Å™„Ç´„É™„Çπ„Éû„Çø„Ç§„ÉóÔºÅ",
    INTJ: "Êà¶Áï•ÁöÑ„ÅßÊú™Êù•ÂøóÂêë„Å™ÊßãÊÉ≥Ê¥æ„Çø„Ç§„ÉóÔºÅ",
    ENFP: "„Å≤„Çâ„ÇÅ„Åç„Å®‰∫∫ÈñìÈñ¢‰øÇ„ÅåÂæóÊÑè„Å™ÂÜíÈô∫ÂÆ∂„Çø„Ç§„ÉóÔºÅ",
    ENTP: "Ê©üËª¢„ÅåÂà©„ÅÑ„Å¶ÊåëÊà¶„ÇíÊÅê„Çå„Å™„ÅÑ„Ç¢„Ç§„Éá„Ç¢„Éû„É≥ÔºÅ",
    ENFJ: "‰∫∫„ÇíÂ∑ª„ÅçËæº„ÇÄÂäõ„Åå„ÅÇ„Çã„É™„Éº„ÉÄ„Éº„Çø„Ç§„ÉóÔºÅ",
    ENTJ: "ÁõÆÊ®ôÈÅîÊàê„Å´‰∏ÄÁõ¥Á∑ö„Å™Âè∏‰ª§Â°î„Çø„Ç§„ÉóÔºÅ",
    ISFP: "ÊÑüÊÄß„Å®Ë™øÂíå„ÇíÈáçË¶ñ„Åô„Çã„ÇÑ„Åï„Åó„ÅïÊ¥æÔºÅ",
    ISTP: "ÂÜ∑ÈùôÊ≤àÁùÄ„Å™ÂÆüË∑µÊ¥æÔºÅ",
    ISFJ: "ÊîØ„Åà„Çã„Åì„Å®„Å´Âñú„Å≥„ÇíÊÑü„Åò„Çã„Çµ„Éù„Éº„Çø„ÉºÔºÅ",
    ISTJ: "Ë≤¨‰ªªÊÑü„ÅÆÂº∑„ÅÑ„Åó„Å£„Åã„ÇäËÄÖÔºÅ",
    ESFP: "„É†„Éº„Éâ„É°„Éº„Ç´„Éº„Å™„Ç®„É≥„Çø„É°Â•Ω„ÅçÔºÅ",
    ESTP: "Ë°åÂãïÂäõÊäúÁæ§„Å™‰ΩìÈ®ìÂûã„É™„Éº„ÉÄ„ÉºÔºÅ",
    ESFJ: "‰∫∫„ÅÆÂΩπ„Å´Á´ã„Å°„Åü„ÅÑË¶™„Åó„ÅøÊ¥æÔºÅ",
    ESTJ: "ÂäπÁéáÁöÑ„ÅßÂÆüÂãô„Å´Âº∑„ÅÑÈ†º„Çå„Çã‰∫∫ÔºÅ"
  };

  const displayName = "„Äá„Äá„Åï„Çì";
  const resultLines = [];

  resultLines.push(`<div style="font-size: 20px;">${displayName}„ÅØ„Äå${type}„Çø„Ç§„Éó„Äç„Åã„ÇÇÔºÅÔºü</div>`);
  resultLines.push(`<div>MBTIÁöÑ„Å´„ÅØÔºö${mbtiDescriptions[type] || "„Éê„É©„É≥„ÇπÂûã„Çø„Ç§„ÉóÔºÅ"}</div>`);

  if (barColor.includes('pink') || barColor.includes('#f') || barColor.includes('rose')) {
  resultLines.push("<div>„Ç´„É©„ÉºË®∫Êñ≠Ôºö„Éî„É≥„ÇØÁ≥ª ‚Üí ÊÑüÂèóÊÄßË±ä„Åã„Åß„ÇÑ„Åï„Åó„ÅÑÊÄßÊ†ºÔºÅ</div>");
} else if (barColor.includes('blue') || barColor.includes('navy') || barColor.includes('#00f') || barColor.includes('sky')) {
  resultLines.push("<div>„Ç´„É©„ÉºË®∫Êñ≠ÔºöÈùíÁ≥ª ‚Üí ÂÜ∑Èùô„ÅßË™†ÂÆü„ÄÅÁü•ÁöÑ„Å™ÊÄßÊ†ºÔºÅ</div>");
} else if (barColor.includes('green') || barColor.includes('lime') || barColor.includes('olive')) {
  resultLines.push("<div>„Ç´„É©„ÉºË®∫Êñ≠ÔºöÁ∑ëÁ≥ª ‚Üí Ëá™ÁÑ∂„ÇÑÂπ≥Âíå„ÇíÂ§ßÂàá„Å´„Åô„ÇãÁ©è„ÇÑ„Åã„Çø„Ç§„ÉóÔºÅ</div>");
} else if (barColor.includes('yellow') || barColor.includes('gold') || barColor.includes('#ff0')) {
  resultLines.push("<div>„Ç´„É©„ÉºË®∫Êñ≠ÔºöÈªÑËâ≤Á≥ª ‚Üí Êòé„Çã„ÅèÂâçÂêë„Åç„ÅßÁ§æ‰∫§ÁöÑ„Å™ÊÄßÊ†ºÔºÅ</div>");
} else if (barColor.includes('orange') || barColor.includes('#ffa')) {
  resultLines.push("<div>„Ç´„É©„ÉºË®∫Êñ≠Ôºö„Ç™„É¨„É≥„Ç∏Á≥ª ‚Üí Ê¥ªÂãïÁöÑ„Åß‰∫∫Êáê„Å£„Åì„ÅÑ„Ç®„Éç„É´„ÇÆ„ÉºÊ¥æÔºÅ</div>");
} else if (barColor.includes('red') || barColor.includes('crimson') || barColor.includes('#f00')) {
  resultLines.push("<div>„Ç´„É©„ÉºË®∫Êñ≠ÔºöËµ§Á≥ª ‚Üí ÊÉÖÁÜ±ÁöÑ„Åß„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó„ÇíÊåÅ„Å§‰∫∫ÔºÅ</div>");
} else if (barColor.includes('purple') || barColor.includes('violet') || barColor.includes('indigo')) {
  resultLines.push("<div>„Ç´„É©„ÉºË®∫Êñ≠ÔºöÁ¥´Á≥ª ‚Üí ÊÑüÊÄßË±ä„Åã„Åß„Éü„Çπ„ÉÜ„É™„Ç¢„Çπ„Å™È≠ÖÂäõÔºÅ</div>");
} else if (barColor.includes('black') || barColor.includes('#000')) {
  resultLines.push("<div>„Ç´„É©„ÉºË®∫Êñ≠ÔºöÈªíÁ≥ª ‚Üí ÊÑèÂøó„ÅåÂº∑„Åè„ÄÅËêΩ„Å°ÁùÄ„ÅÑ„ÅüÈõ∞Âõ≤Ê∞óÔºÅ</div>");
} else if (barColor.includes('white') || barColor.includes('#fff') || barColor.includes('ivory')) {
  resultLines.push("<div>„Ç´„É©„ÉºË®∫Êñ≠ÔºöÁôΩÁ≥ª ‚Üí Á¥îÁ≤ã„ÅßÁ¥†Áõ¥„ÄÅË™øÂíå„ÇíÂ§ßÂàá„Å´„Åô„Çã„Çø„Ç§„ÉóÔºÅ</div>");
} else if (barColor.includes('gray') || barColor.includes('grey') || barColor.includes('#888')) {
  resultLines.push("<div>„Ç´„É©„ÉºË®∫Êñ≠Ôºö„Ç∞„É¨„ÉºÁ≥ª ‚Üí ÂÜ∑Èùô„ÅßÂ§ß‰∫∫„Å≥„Åü„Éê„É©„É≥„Çπ„Çø„Ç§„ÉóÔºÅ</div>");
} else {
  resultLines.push("<div>„Ç´„É©„ÉºË®∫Êñ≠Ôºö‰∏≠ÈñìËâ≤ ‚Üí Â§öÊßòÊÄß„ÇíÂèó„ÅëÂÖ•„Çå„ÇãÊüîËªü„Å™„Çø„Ç§„ÉóÔºÅ</div>");
}


  const hobbyTags = {
  '„Ç≤„Éº„É†': 'Êà¶Áï•Ê¥æ or „Éû„Ç§„Éö„Éº„ÇπÊ¥æ',
  '„Ç¢„Éã„É°': 'ÊÑüÊÄßË±ä„Åã„ÅßÂÜÖÂêëÂûãÂØÑ„Çä',
  'ÊóÖË°å': 'Â•ΩÂ•áÂøÉÊó∫Áõõ„Å™ÂÜíÈô∫Â•Ω„Åç',
  '„Ç´„Éï„Çß': 'Áôí„ÅóÈáçË¶ñ„ÉªÊÑüÊÄß„Çø„Ç§„Éó',
  'Èü≥Ê•Ω': 'ÊÑüÊÉÖ„Å®Áµê„Å≥„Å§„Åç„ÅåÂº∑„ÅÑ‰∫∫',
  'Ë™≠Êõ∏': 'ÊÄùÁ¥¢Âûã„ÉªÊÉ≥ÂÉèÂäõ„ÅåË±ä„Åã',
  '„Çπ„Éù„Éº„ÉÑ': 'Â§ñÂêëÁöÑ„Åß„Ç®„Éç„É´„ÇÆ„ÉÉ„Ç∑„É•',
  'ÁæéË°ì': '„ÇØ„É™„Ç®„Ç§„ÉÜ„Ç£„ÉñÂøóÂêë',
  'ÊñôÁêÜ': 'ÁπäÁ¥∞„ÅßÂÆ∂Â∫≠ÁöÑ„Å™Ê∞óË≥™',
  'Á≠ã„Éà„É¨': 'Ëá™Â∑±ÊàêÈï∑ÊÑèË≠ò„ÅåÂº∑„ÅÑ„Çø„Ç§„Éó',
  '„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥': 'Ëá™Â∑±Ë°®Áèæ„Å®ÊµÅË°å„Å´ÊïèÊÑü„Å™„Çø„Ç§„Éó',
  '„ÉÄ„É≥„Çπ': 'Ë∫´‰Ωì„ÅßÊÑüÊÉÖ„ÇíË°®Áèæ„Åô„ÇãÊÉÖÁÜ±Ê¥æ',
  '„Ç´„É©„Ç™„Ç±': 'Á§æ‰∫§ÁöÑ„ÅßË°®Áèæ„ÅåÂ•Ω„Åç„Å™Áõõ„Çä‰∏ä„ÅíÂΩπ',
  '„Éú„Éº„Éâ„Ç≤„Éº„É†': 'È†≠ËÑ≥Ê¥æ„Åß„Åø„Çì„Å™„Å®Ê•Ω„Åó„ÇÄ„Åì„Å®„ÅåÂ•Ω„Åç',
  '„Éö„ÉÉ„Éà': 'ÊÑõÊÉÖÊ∑±„Åè„ÄÅÁôí„Åó„ÇÑ„Å§„Å™„Åå„Çä„ÇíÂ§ß‰∫ã„Å´„Åô„Çã‰∫∫',
  '„Ç§„É©„Çπ„Éà': 'ÁπäÁ¥∞„ÅßÊÑüÂèóÊÄß„ÅåË±ä„Åã„ÄÅÊÉ≥ÂÉèÂäõ„ÇÇÈ´ò„ÅÑ',
  '„Ç´„É°„É©': 'Ë¶≥ÂØüÁúº„Å´ÂÑ™„Çå„ÄÅÊÑüÊÉÖ„ÇíÂÜôÁúü„ÅßË°®Áèæ„Åó„Åü„ÅÑ„Çø„Ç§„Éó',
  'Êò†Áîª': 'Áâ©Ë™û„ÇÑ‰∏ñÁïåË¶≥„Å´Ê≤°ÂÖ•„Åô„Çã„Ç®„É¢Ê¥æ',
  '„Ç´„É©„Éï„É´„Å™ÈõëË≤®': 'Êòé„Çã„ÅèÂÄãÊÄßÁöÑ„Å™„Çª„É≥„Çπ„ÅÆÊåÅ„Å°‰∏ª',
  'ÊâãËä∏': '‰∏ÅÂØß„ÅßÈõÜ‰∏≠Âäõ„ÅåÈ´ò„Åè„ÄÅ„ÇÇ„ÅÆ„Å•„Åè„ÇäÂ•Ω„Åç',
  'Êï£Ê≠©': 'Ëá™ÁÑ∂„Å®„ÅÆË™øÂíå„ÇíÂ§ßÂàá„Å´„Åô„Çã„Éû„Ç§„Éö„Éº„ÇπÊ¥æ'
};

  const detectedHobbies = Object.keys(hobbyTags).filter(word => combined.includes(word));
  if (detectedHobbies.length > 0) {
    resultLines.push(`<div>${displayName}„ÅØ ${detectedHobbies.join('„Éª')} „ÅåÂ•Ω„Åç„Å™ÂÇæÂêë„Åå„ÅÇ„Çã„ÇàÔºÅ</div>`);
    resultLines.push(`<div>‚Üí ÂÇæÂêëÔºö${detectedHobbies.map(h => hobbyTags[h]).join(' Ôºè ')}</div>`);
  }

const hobbyExtensions = [];
if (combined.includes('„Ç≤„Éº„É†')) hobbyExtensions.push("üéÆ „Çµ„Éê„Ç≤„Éº„ÇÑ„Éú„Éº„Éâ„Ç≤„Éº„É†„ÇÇÂ•Ω„Åç„Å™ÂèØËÉΩÊÄß„ÅÇ„ÇäÔºÅ");
if (combined.includes('Èü≥Ê•Ω')) hobbyExtensions.push("üéµ ‰ΩúÊõ≤„ÇÑ„É©„Ç§„ÉñÂèÇÊà¶„Å´„ÇÇËààÂë≥„ÅÇ„Çã„Åã„ÇÇÔºÅ");
if (combined.includes('„Ç´„Éï„Çß')) hobbyExtensions.push("‚òï „Ç´„Éï„ÇßÂ∑°„Çä„Éñ„É≠„Ç∞Âßã„ÇÅ„Å¶„Çã„Åã„ÇÇÔºü");
if (combined.includes('Ë™≠Êõ∏')) hobbyExtensions.push("üìö ÊúÄËøëË™≠„Çì„Å†Êú¨„ÅÆË©±„Çí„Åó„Å¶„Åø„Çã„Å®Áõõ„Çä‰∏ä„Åå„Çã„Åã„ÇÇÔºÅ");
if (combined.includes('„Ç¢„Éã„É°')) hobbyExtensions.push("üì∫ Êé®„Åó„Ç≠„É£„É©„ÇÑ„Ç¢„Éã„É°„ÅÇ„ÇãÔºü„Å£„Å¶ËÅû„Åè„Å®Âñú„Å∂„Çø„Ç§„Éó„Åã„ÇÇÔºÅ");
if (combined.includes('„Çπ„Éù„Éº„ÉÑ')) hobbyExtensions.push("‚öΩ Ë¶≥Êà¶Ê¥æ„Åã„Éó„É¨„Ç§Ê¥æ„ÅãËÅû„ÅÑ„Å¶„Åø„Çã„Å®ÊÑèÂ§ñ„Å™Ë©±„ÅåËÅû„Åë„Çã„Åã„ÇÇÔºÅ");
if (combined.includes('ÊóÖË°å')) hobbyExtensions.push("‚úàÔ∏è Ë°å„Å£„Å¶„Åø„Åü„ÅÑÂõΩ„Å®„ÅãË™û„ÇäÂêà„ÅÜ„Å®Ê•Ω„Åó„ÅÑ„Åã„ÇÇÔºÅ");
if (combined.includes('ÁæéË°ì')) hobbyExtensions.push("üé® ÁæéË°ìÈ§®„Éà„Éº„ÇØ„ÇÑÊé®„ÅóÁîªÂÆ∂„ÅÆË©±„Åå„Éè„Éû„Çã„Åã„ÇÇÔºÅ");
if (combined.includes('ÊñôÁêÜ')) hobbyExtensions.push("üç≥ ÂæóÊÑèÊñôÁêÜ„Å®„ÅãËÅû„Åè„Å®„ÉÜ„É≥„Ç∑„Éß„É≥‰∏ä„Åå„Çä„Åù„ÅÜÔºÅ");
if (combined.includes('Á≠ã„Éà„É¨')) hobbyExtensions.push("üí™ „Éó„É≠„ÉÜ„Ç§„É≥„ÅÆË©±„ÅßÁõõ„Çä‰∏ä„Åå„Çå„Çã„Åã„ÇÇ‚Ä¶ÔºÅÔºü");
if (combined.includes('„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥')) hobbyExtensions.push("üëó Â•Ω„Åç„Å™„Éñ„É©„É≥„Éâ„ÇÑÊúç„ÅÆÁ≥ªÁµ±„ÄÅË©±„Åó„Å¶„Åø„Çà„ÅÜÔºÅ");
if (combined.includes('„Ç´„É©„Ç™„Ç±')) hobbyExtensions.push("üé§ ÂÆöÁï™„ÇΩ„É≥„Ç∞„ÅÇ„ÇãÔºü„Å£„Å¶ËÅû„Åè„Å®‰∏ÄÊ∞ó„Å´Ë∑ùÈõ¢Á∏Æ„Åæ„Çã„Åã„ÇÇÔºÅ");
if (combined.includes('„Éö„ÉÉ„Éà')) hobbyExtensions.push("üêæ È£º„Å£„Å¶„ÇãÂãïÁâ©„ÅÆË©±„Çí„Åô„Çã„Å®Â¨â„Åó„Åù„ÅÜ„Å´Ë©±„Åó„Å¶„Åè„Çå„Çã„Åã„ÇÇÔºÅ");
if (combined.includes('„Ç§„É©„Çπ„Éà')) hobbyExtensions.push("üñåÔ∏è SNS„Å´ÊäïÁ®ø„Åó„Å¶„Çã„Åã„ÇÇÔºüË¶ã„Åõ„Å¶„ÇÇ„Çâ„Å£„Å¶„Åø„Çà„ÅÜÔºÅ");
if (combined.includes('Êò†Áîª')) hobbyExtensions.push("üé¨ Â•Ω„Åç„Å™„Ç∏„É£„É≥„É´„ÇÑÊé®„Åó‰ø≥ÂÑ™„ÅÆË©±„ÅßÁõõ„Çä‰∏ä„Åå„Çå„Çã„Åã„ÇÇÔºÅ");
if (combined.includes('„ÉÄ„É≥„Çπ')) hobbyExtensions.push("üíÉ Â•Ω„Åç„Å™„Ç∏„É£„É≥„É´„ÇÑÊåØ„Çä‰ªò„Åë„ÅÆË©±„Çí„Åô„Çã„Å®Áõõ„Çä‰∏ä„Åå„Çä„Åù„ÅÜÔºÅ");
if (combined.includes('„Éú„Éº„Éâ„Ç≤„Éº„É†')) hobbyExtensions.push("üé≤ „Å©„ÅÆ„Ç≤„Éº„É†Ê¥æ„ÅãËÅû„Åè„Å®Áõõ„Çä‰∏ä„Åå„Çå„Çã„Åã„ÇÇÔºÅ");
if (combined.includes('„Ç´„É©„Éï„É´„Å™ÈõëË≤®')) hobbyExtensions.push("üåà „Çª„É≥„ÇπÂÖâ„Çã„Ç¢„Ç§„ÉÜ„É†„ÅÆË©±È°å„ÅßÁõõ„Çä‰∏ä„Åå„Çä„Åù„ÅÜÔºÅ");
if (combined.includes('ÊâãËä∏')) hobbyExtensions.push("üßµ „Éè„É≥„Éâ„É°„Ç§„Éâ‰ΩúÂìÅ„ÅÆË©±„Çí„Åô„Çã„Å®Â¨â„Åó„Åù„ÅÜ„Å´Ë©±„Åô„Åã„ÇÇÔºÅ");
if (combined.includes('Êï£Ê≠©')) hobbyExtensions.push("üö∂‚Äç‚ôÇÔ∏è Êï£Ê≠©„Ç≥„Éº„Çπ„ÅÆË©±„Åã„ÇâËá™ÁÑ∂„Éà„Éº„ÇØ„Å´Â∫É„Åå„Çã„Åã„ÇÇÔºÅ");
if (combined.includes('„Ç´„É°„É©')) hobbyExtensions.push("üì∑ ÊíÆ„Å£„ÅüÂÜôÁúü„ÇíË¶ã„Åõ„Å¶„ÇÇ„Çâ„ÅÜ„Å®‰ºöË©±„ÅåÂºæ„ÇÄ„Åã„ÇÇÔºÅ");
if (combined.includes('„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞')) hobbyExtensions.push("üíª „Å©„Çì„Å™„Ç¢„Éó„É™„ÇÑ„Ç≥„Éº„ÉâÊõ∏„ÅÑ„Å¶„Çã„ÅãËÅû„ÅÑ„Å¶„Åø„Çà„ÅÜÔºÅ");
if (combined.includes('ÂÜôÁúü')) hobbyExtensions.push("üì∏ SNS„ÇÑ„Ç¢„É´„Éê„É†„Å´Á¥†Êïµ„Å™ÊßãÂõ≥„Åå„ÅÇ„Çã„Åã„ÇÇÔºÅ");
if (combined.includes('„Ç¢„Ç¶„Éà„Éâ„Ç¢')) hobbyExtensions.push("üèïÔ∏è „Ç≠„É£„É≥„Éó„ÇÑÁôªÂ±±„Å™„Å©Ëá™ÁÑ∂‰ΩìÈ®ì„ÅÆË©±È°å„ÅåÂêà„ÅÑ„Åù„ÅÜÔºÅ");

  if (hobbyExtensions.length > 0) {
    resultLines.push(`<div style="margin-top:12px;">„Åì„ÅÆË©±È°å„ÇíÊåØ„Å£„Å¶„Åø„Çà„ÅÜüëá</div>`);
    resultLines.push(`<div>${hobbyExtensions.join('<br>')}</div>`);
  }

  localStorage.setItem('my_mbti', type);
  const mbtiEl = document.getElementById('mbti-type');
if (mbtiEl) mbtiEl.innerText = type;

  document.getElementById('diagnosis-result').innerHTML = resultLines.join('');
  document.getElementById('diagnosis-modal').style.display = 'flex';

  document.getElementById('diagnosis-modal').addEventListener('click', () => {
    document.getElementById('diagnosis-modal').style.display = 'none';
  });
}
window.dispatchEvent(new Event('DOMContentLoaded'));

</script>

<!-- ‚Üì „Åì„Åì„ÅåMBTI„Çø„Ç§„Éó„ÅåË°®Á§∫„Åï„Çå„ÇãÈùûË°®Á§∫„Ç®„É™„Ç¢ -->
<div id="mbti-type" style="display:none;">INTP</div>

<!-- ‚ñº Áõ∏ÊÄßË®∫Êñ≠„Çπ„ÇØ„É™„Éó„Éà -->
<script>
window.addEventListener('DOMContentLoaded', () => {
  const myMbti = localStorage.getItem('my_mbti');
  const otherMbti = document.getElementById('mbti-type')?.innerText ||
                    document.getElementById('hidden-mbti')?.value || '';

  if (myMbti && otherMbti && myMbti.length === 4 && otherMbti.length === 4) {
    const compatibility = getCompatibility(myMbti, otherMbti);
    const score = getCompatibilityScore(myMbti, otherMbti);
    showCompatibilityModal(myMbti, otherMbti, compatibility, score);
  }
});

function getCompatibility(mbti1, mbti2) {
  const perfectPairs = [
    ['INFP', 'ENFJ'], ['ENFP', 'INFJ'], ['INFJ', 'INTP'], ['INFP', 'INFJ'],
    ['ENFP', 'INTP'], ['ENTP', 'INFJ'], ['ENFJ', 'INFP'], ['ISFJ', 'ENFP'],
    ['ISTJ', 'ISFJ'], ['ISFP', 'INFP'], ['ESTP', 'ENFP'], ['ESFP', 'ENFJ'],
    ['ISTP', 'INFP'], ['INTP', 'ENTJ'], ['ENTP', 'INTJ'], ['ISFP', 'ESFJ'],
    ['ISTP', 'ESTJ'], ['ISFJ', 'ESFP'], ['ISTJ', 'ESTP'], ['INTJ', 'ENFP'],
    ['INTP', 'INFJ'], ['ESFJ', 'ISFP'], ['ESTJ', 'ISTP'], ['ESFP', 'ISFJ'],
    ['ESTP', 'ISTJ'], ['ENFJ', 'ISFP'], ['ENFP', 'ISFJ'], ['ENTJ', 'INFP'],
    ['INTJ', 'ENFJ'], ['ENFP', 'ENFP'], ['ENTP', 'ENTP'], ['INFP', 'INTP'],
    // ‚¨á Êã°Âºµ„Åì„Åì„Åã„Çâ
    ['ISFJ', 'ISTP'], ['INFJ', 'ENFJ'], ['ISFP', 'ENFP'], ['ENFP', 'ISFP'],
    ['ISTJ', 'ENTP'], ['ISTP', 'ENFP'], ['ESTJ', 'ENFJ'], ['INTP', 'ENTP'],
    ['ENTP', 'ISFJ'], ['ESFP', 'ISFP'], ['ISFP', 'ISFP'], ['INTP', 'ISFP'],
    ['INFP', 'INFP'], ['ENFJ', 'ENFJ'], ['ESTJ', 'ISTJ'], ['ISTP', 'ISFJ'],
    ['INFJ', 'ISFP'], ['ISFJ', 'INFJ'], ['ENFP', 'ISTP'], ['INTJ', 'INFP']
  ];


  if (mbti1 === mbti2) return '‰ºº„Åü„ÇÇ„ÅÆÂêåÂ£´„ÅßÂÆâÂøÉÊÑü„Éê„ÉÉ„ÉÅ„É™ÔºÅ';
  for (const [a, b] of perfectPairs) {
    if ((mbti1 === a && mbti2 === b) || (mbti1 === b && mbti2 === a)) {
      return '„Éê„É©„É≥„ÇπÊúÄÈ´òÔºÅÁêÜÊÉ≥„ÅÆ„Éö„Ç¢ÔºÅ';
    }
  }
  return '‰æ°ÂÄ§Ë¶≥„ÅÆÈÅï„ÅÑ„ÇÇÊ•Ω„Åó„ÇÅ„ÇãÈñ¢‰øÇÔºÅ';
}


function getCompatibilityScore(m1, m2) {
  let score = 50;
  if (m1 === m2) return 90;
  const pairs = ['IE', 'NS', 'TF', 'JP'];
  for (let i = 0; i < 4; i++) {
    if (m1[i] === m2[i]) score += 10;
    else score -= 5;
  }
  return Math.max(0, Math.min(100, score));
}
function getCompatibilityComment(mbti1, mbti2) {
  const key = [mbti1, mbti2].sort().join('-');

  const commentMap = {
    'INFP-ENFJ': '„Åä‰∫í„ÅÑ„ÅÆÊÑüÊÄß„Å´ÊÉπ„Åã„ÇåÂêà„ÅÑ„ÄÅËá™ÁÑ∂„Å®ÊîØ„ÅàÂêà„Åà„ÇãÈñ¢‰øÇÔºÅ',
    'ENFP-INFJ': 'Ëá™Áî±„Å®Ê∑±„Åï„ÅÆ„Éê„É©„É≥„Çπ„ÅåÁµ∂Â¶ô„Å™Áõ∏ÊÄßÔºÅ',
    'INFJ-INTP': 'ÁêÜÊÉ≥„Å®Ë´ñÁêÜ„ÅÆËûçÂêà„Åß„ÄÅÊ∑±„ÅÑÂØæË©±„ÅåÊ≠¢„Åæ„Çâ„Å™„ÅÑÔºÅ',
    'INFP-INFJ': 'ÊÑüÂèóÊÄß„ÅÆÊ≥¢Èï∑„Åå„Å¥„Å£„Åü„ÇäÂêà„ÅÜÁôí„ÅóÁ≥ª„Ç≥„É≥„ÉìÔºÅ',
    'ENFP-INTP': 'Á™ÅÈ£õ„Å™„Ç¢„Ç§„Éá„Ç¢„Çí‰∏ÄÁ∑í„Å´È£õË∫ç„Åï„Åõ„Çâ„Çå„ÇãÈñ¢‰øÇÔºÅ',
    'ENTP-INFJ': 'Áô∫ÊÉ≥Âäõ„Å®ÂÖ±ÊÑüÂäõ„Åå‰∫§Â∑Æ„Åô„ÇãÂà∫ÊøÄÁöÑ„Å™Èñ¢‰øÇÔºÅ',
    'ENFJ-INFP': 'ÊÄù„ÅÑ„ÇÑ„Çä„Å®Êüî„Çâ„Åã„Åï„ÅåÂÖ±È≥¥„Åô„Çã„ÅÇ„Å£„Åü„Åã„Éö„Ç¢ÔºÅ',
    'ISFJ-ENFP': 'ÊÖéÈáç„Åï„Å®ÂÜíÈô∫ÂøÉ„ÅÆ„ÅÑ„ÅÑ„Éê„É©„É≥„ÇπÔºÅ',
    'ISTJ-ISFJ': 'ÂÆâÂÆö„Å®ÂÆâÂøÉ„ÇíÁîü„ÇÄÁéãÈÅì„Éö„Ç¢ÔºÅ',
    'ISFP-INFP': 'ÂÖ±ÊÑüÂäõ„Å´Ê∫¢„Çå„Åü„ÇÑ„Åï„Åó„ÅïÂÖ®Èñã„Ç≥„É≥„ÉìÔºÅ',
    'ESTP-ENFP': 'Ë°åÂãïÊ¥æ„Å®Â§¢ÊÉ≥ÂÆ∂„Åå„Å∂„Å§„Åã„Çä„Å™„Åå„Çâ„ÇÇÊÉπ„Åã„ÇåÂêà„ÅÜÔºÅ',
    'ESFP-ENFJ': 'Êòé„Çã„Åï„Å®Èù¢ÂÄíË¶ã„ÅÆËâØ„Åï„ÅßÂë®„Çä„ÇÇÁ¨ëÈ°î„Å´ÔºÅ',
    'ISTP-INFP': 'Èùô„Å®Âãï„ÅÆÁµÑ„ÅøÂêà„Çè„Åõ„ÅåÊÑèÂ§ñ„Å®ÂøÉÂú∞„ÅÑ„ÅÑÔºÅ',
    'INTP-ENTJ': 'Ë®àÁîª„Å®ÊßãÊÉ≥„ÅåÂôõ„ÅøÂêà„ÅÜÊà¶Áï•ÁöÑ„Éë„Éº„Éà„Éä„ÉºÔºÅ',
    'ENTP-INTJ': 'Êú™Êù•„ÇíË™û„Çä„Åü„Åè„Å™„ÇãÁü•ÁöÑ„Éö„Ç¢ÔºÅ',
    'ISFP-ESFJ': 'Ëá™ÁÑ∂‰Ωì„Å®Ê∞óÈÖç„Çä„ÅÆÁµ∂Â¶ô„Å™„Ç≥„É≥„ÉìÔºÅ',
    'ISTP-ESTJ': 'ÁèæÂÆüÁöÑ„Åã„Å§‰ø°È†º„Åß„Åç„Çã„Çø„ÉÉ„Ç∞ÔºÅ',
    'ISFJ-ESFP': 'Á©è„ÇÑ„Åã√óÁ§æ‰∫§ÁöÑ„ÅÆÁôí„Åó„Å®ÂÖÉÊ∞ó„Çª„ÉÉ„ÉàÔºÅ',
    'ISTJ-ESTP': 'ÂÜ∑Èùô„Å®ÊÉÖÁÜ±„ÅÆÈñì„Å´ÊÑèÂ§ñ„Å™Ë™øÂíåÔºÅ',
    'INTJ-ENFP': 'ÂÜÖ„Å™„ÇãÊÉÖÁÜ±„ÇíÂÖ±Êúâ„Åß„Åç„ÇãÂ§âÂåñÊé®ÈÄ≤„Ç≥„É≥„ÉìÔºÅ',
    'INTP-INFJ': 'Ê∑±„ÅÑÊÄùÁ¥¢„ÇíÊ•Ω„Åó„ÇÅ„ÇãÁ≤æÁ•ûÁöÑ„Å§„Å™„Åå„ÇäÔºÅ',
    'ESFJ-ISFP': 'Êüî„Çâ„Åã„Åè„Å¶ÂÆâÂøÉ„Åß„Åç„ÇãÂåÖÂÆπÂäõ„Éö„Ç¢ÔºÅ',
    'ESTJ-ISTP': 'È†º„Çå„ÇãÂÆüÂãôÂÆ∂ÂêåÂ£´„Åß‰ªï‰∫ã„Éê„ÉÉ„ÉÅ„É™ÔºÅ',
    'ESFP-ISFJ': 'ÊÑüÊÉÖ„Å®ÂÆâÂÆöÊÑü„ÅåÂØÑ„ÇäÊ∑ª„ÅÜ„ÅÇ„Åü„Åü„Åã„Éö„Ç¢ÔºÅ',
    'ESTP-ISTJ': '‰ø°È†º„Å®„Çπ„Éî„Éº„Éâ„ÅÆ„Éë„Éº„Éà„Éä„Éº„Ç∑„ÉÉ„ÉóÔºÅ',
    'ENFJ-ISFP': 'Èù¢ÂÄíË¶ã„ÅÆËâØ„Åï„Å®ÊÑüÊÄß„ÅåÊ∫∂„ÅëÂêà„ÅÜÔºÅ',
    'ENFP-ISFJ': 'ÂÜíÈô∫„Å®ÂÆâÂøÉ„Åå‰∫§Â∑Æ„Åô„Çã„Åª„ÅÆ„Åº„ÅÆÈñ¢‰øÇÔºÅ',
    'ENTJ-INFP': '„Ç´„É™„Çπ„Éû„Å®Áôí„Åó„ÅÆ‰∏çÊÄùË≠∞„Å™ÂåñÂ≠¶ÂèçÂøúÔºÅ',
    'INTJ-ENFJ': 'Ë´ñÁêÜ„Å®‰∫∫ÊÉÖ„ÅÆ„Éè„Ç§„Éñ„É™„ÉÉ„Éâ„Éë„Éº„Éà„Éä„ÉºÔºÅ',
    'ENFP-ENFP': '„Éé„É™„Å®Âã¢„ÅÑ„ÅåÊ≠¢„Åæ„Çâ„Å™„ÅÑÁÑ°Èôê„É´„Éº„ÉóÔºÅ',
    'ENTP-ENTP': 'Ë©±„ÅåÂ∞Ω„Åç„Å™„ÅÑÂà∫ÊøÄÁöÑ„Å™„Éö„Ç¢ÔºÅ',
    'INFP-INTP': 'ÁπäÁ¥∞„Åï„Å®Êé¢Á©∂ÂøÉ„ÅßÈùô„Åã„Å´Áõõ„Çä‰∏ä„Åå„ÇãÔºÅ'
  };

  return commentMap[key] || 'Áõ∏Êâã„ÅÆÈÅï„ÅÑ„ÇíÁêÜËß£„Åó„Å™„Åå„Çâ„ÄÅÊàêÈï∑„Åß„Åç„ÇãÈñ¢‰øÇÔºÅ';
}
function getDetailData(my, other) {
  const key = [my, other].sort().join('-');

  const detailMap = {
    'INFP-ENFJ': {
      scores: [90, 85, 80, 95, 70],
      texts: [
        'Ëá™ÁÑ∂‰Ωì„ÅßË©±„Åõ„ÇãÂèãÈÅîÊÑüË¶ö„Åå‚óé',
        '‰∏ÄÁ∑í„Å´„ÅÑ„Çã„Å†„Åë„Åß„Éâ„Ç≠„Éâ„Ç≠„Åß„Åç„ÇãÁõ∏ÊÄßÔºÅ',
        'ÂÖ±„Å´ÊàêÈï∑„ÅóÂêà„Åà„ÇãÊúÄÈ´ò„ÅÆÁõ∏Ê£íÔºÅ',
        '‰æ°ÂÄ§Ë¶≥„Åå‰ºº„Å¶„ÅÑ„Å¶Â±ÖÂøÉÂú∞„Åå„Å®„Å¶„ÇÇËâØ„ÅÑ',
        'Áõõ„Çä‰∏ä„Åå„Çä„Åô„Åé„Åö„ÄÅÂøÉÂú∞„Çà„ÅÑ„ÉÜ„É≥„Ç∑„Éß„É≥ÊÑü'
      ]
    }
    // ‰ªñ„ÅÆÁµÑ„ÅøÂêà„Çè„Åõ„ÅØ„ÅÇ„Å®„ÅßËøΩÂä†„Åß„Åç„Çã
  };

  return detailMap[key] || {
    scores: [60, 60, 60, 60, 60],
    texts: [
      '‰ºöË©±„ÇíÈÄö„Åò„Å¶Âæê„ÄÖ„Å´Êâì„Å°Ëß£„Åë„ÇãÈñ¢‰øÇÔºÅ',
      '„Åä‰∫í„ÅÑ„ÅÆÈÅï„ÅÑ„ÇíÊ•Ω„Åó„ÇÅ„ÇãÁõ∏ÊÄßÔºÅ',
      '‰∏ÄÁ∑í„Å´Êñ∞„Åó„ÅÑÁô∫Ë¶ã„Åå„Åß„Åç„Åù„ÅÜÔºÅ',
      'ÂÆâÂøÉÊÑü„ÅØ„Åì„Çå„Åã„Çâ‰Ωú„Å£„Å¶„ÅÑ„ÅèÊÑü„ÅòÔºÅ',
      'Âà∫ÊøÄ„Çà„ÇäÂÆâÂÆöÊÑüÈáçË¶ñ„Å™Èõ∞Âõ≤Ê∞óÔºÅ'
    ]
  };
}

function showCompatibilityModal(my, other, message, score) {
  const comment = getCompatibilityComment(my, other); 
  const modal = document.createElement('div');
  modal.id = 'compat-modal';
  modal.style.cssText = `
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    opacity: 0;
    transition: opacity 0.8s ease;
  `;

  modal.innerHTML = `
    <div style="
      background: #fff;
      padding: 24px;
      border-radius: 16px;
      font-family: 'Comic Sans MS', cursive;
      text-align: center;
      box-shadow: 0 8px 16px rgba(0,0,0,0.25);
      max-width: 90vw;
      animation: popIn 0.6s ease forwards;
    ">
      <div style="font-size: 20px; font-weight: bold; color: #e91e63; margin-bottom: 6px;">
       2‰∫∫„ÅÆÁõ∏ÊÄßÂ∫¶
      <div style="font-size: 36px; font-weight: bold; color: #ff3366; margin-bottom: 12px;">
         ${score}% 
      </div>
      <div style="font-size: 16px; margin-bottom: 6px;">
        „ÅÇ„Å™„ÅüÔºà${my}Ôºâ„Å®„Åì„ÅÆ‰∫∫Ôºà${other}Ôºâ„ÅÆÁõ∏ÊÄß„ÅØ‚Ä¶
      </div>
      <div style="font-size: 20px; color: #e91e63; font-weight: bold;">
        ${message}
        <div style="font-size: 16px; color: #555; margin-top: 8px; font-style: italic;">
  ${comment}
</div>
      </div>
      <div style="margin-top: 24px;">
  <button onclick="document.getElementById('compat-modal').remove()" style="
  padding: 8px 16px;
  background: #ccc;
  color: #333;
  border: none;
  border-radius: 8px;
  cursor: pointer;
">Èñâ„Åò„Çã</button>

  <button onclick="showDetailModal('${my}', '${other}')" style="
    margin-left: 12px;
    padding: 8px 16px;
    background: #2196f3;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  ">Ë©≥Á¥∞„ÇíË¶ã„Çã</button>
</div>


    </div>
  `;

  document.body.appendChild(modal);

  // „Éï„Çß„Éº„Éâ„Ç§„É≥
  setTimeout(() => {
    modal.style.opacity = '1';
  }, 50);
}
function getDetailData(my, other) {
  const key = [my, other].sort().join('-');

  const detailMap = {
    'INFP-ENFJ': {
      scores: [90, 85, 80, 95, 70],
      texts: [
        'Ëá™ÁÑ∂‰Ωì„ÅßË©±„Åõ„ÇãÂèãÈÅîÊÑüË¶ö„Åå‚óé',
        '‰∏ÄÁ∑í„Å´„ÅÑ„Çã„Å†„Åë„Åß„Éâ„Ç≠„Éâ„Ç≠„Åß„Åç„ÇãÁõ∏ÊÄßÔºÅ',
        'ÂÖ±„Å´ÊàêÈï∑„ÅóÂêà„Åà„ÇãÊúÄÈ´ò„ÅÆÁõ∏Ê£íÔºÅ',
        '‰æ°ÂÄ§Ë¶≥„Åå‰ºº„Å¶„ÅÑ„Å¶Â±ÖÂøÉÂú∞„Åå„Å®„Å¶„ÇÇËâØ„ÅÑ',
        'Áõõ„Çä‰∏ä„Åå„Çä„Åô„Åé„Åö„ÄÅÂøÉÂú∞„Çà„ÅÑ„ÉÜ„É≥„Ç∑„Éß„É≥ÊÑü'
      ]
    }
  };

  return detailMap[key] || {
    scores: [60, 60, 60, 60, 60],
    texts: [
      '‰ºöË©±„ÇíÈÄö„Åò„Å¶Âæê„ÄÖ„Å´Êâì„Å°Ëß£„Åë„ÇãÈñ¢‰øÇÔºÅ',
      '„Åä‰∫í„ÅÑ„ÅÆÈÅï„ÅÑ„ÇíÊ•Ω„Åó„ÇÅ„ÇãÁõ∏ÊÄßÔºÅ',
      '‰∏ÄÁ∑í„Å´Êñ∞„Åó„ÅÑÁô∫Ë¶ã„Åå„Åß„Åç„Åù„ÅÜÔºÅ',
      'ÂÆâÂøÉÊÑü„ÅØ„Åì„Çå„Åã„Çâ‰Ωú„Å£„Å¶„ÅÑ„ÅèÊÑü„ÅòÔºÅ',
      'Âà∫ÊøÄ„Çà„ÇäÂÆâÂÆöÊÑüÈáçË¶ñ„Å™Èõ∞Âõ≤Ê∞óÔºÅ'
    ]
  };
}

function getCompatibilityRadarData(myMbti, otherMbti) {
  const scores = [60, 60, 60, 60, 60];
  const comments = [
    '‰ºöË©±„ÇíÈÄö„Åò„Å¶Âæê„ÄÖ„Å´Êâì„Å°Ëß£„Åë„ÇãÈñ¢‰øÇÔºÅ',
    '„Åä‰∫í„ÅÑ„ÅÆÈÅï„ÅÑ„ÇíÊ•Ω„Åó„ÇÅ„ÇãÁõ∏ÊÄßÔºÅ',
    '‰∏ÄÁ∑í„Å´Êñ∞„Åó„ÅÑÁô∫Ë¶ã„Åå„Åß„Åç„Åù„ÅÜÔºÅ',
    'ÂÆâÂøÉÊÑü„ÅØ„Åì„Çå„Åã„Çâ‰Ωú„Å£„Å¶„ÅÑ„ÅèÊÑü„ÅòÔºÅ',
    'Âà∫ÊøÄ„Çà„ÇäÂÆâÂÆöÊÑüÈáçË¶ñ„Å™Èõ∞Âõ≤Ê∞óÔºÅ'
  ];

  return { scores, comments };
}

function showDetailModal(myMbti, otherMbti) {
  const modal = document.getElementById('compat-detail-modal');
  modal.style.display = 'flex';

  requestAnimationFrame(() => {
    setTimeout(() => {
      const ctx = document.getElementById('compat-radar').getContext('2d');
      const data = getCompatibilityRadarData(myMbti, otherMbti);
      const labels = ['‰ª≤ËâØ„ÅóÂ∫¶', '„Å®„Åç„ÇÅ„ÅçÂ∫¶', 'Áõ∏Ê£íÂäõ', 'ËêΩ„Å°ÁùÄ„ÅçÂ∫¶', 'Áõõ„Çä‰∏ä„Åå„ÇäÂ∫¶'];

      if (window.currentRadarChart) {
        window.currentRadarChart.destroy();
      }

      window.currentRadarChart = new Chart(ctx, {
        type: 'radar',
        data: {
          labels: labels,
          datasets: [{
            label: 'Áõ∏ÊÄß„Çπ„Ç≥„Ç¢',
            data: data.scores,
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            borderColor: '#e91e63',
            pointBackgroundColor: '#e91e63'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false }
          },
          scales: {
            r: {
              suggestedMin: 0,
              suggestedMax: 100,
              ticks: { display: false },
              pointLabels: {
                font: { size: 14, family: 'Comic Sans MS' },
                color: '#e91e63',
                padding: 20
              },
              grid: { color: 'rgba(0,0,0,0.1)' },
              angleLines: { display: true }
            }
          }
        }
      });

  const detailText = labels.map((label, i) => `
  <div style="margin-bottom: 12px; width: 100%; text-align: left !important; padding-left: 0; margin-left: 0;">
    <div style="font-weight: bold; color: #e91e63; font-size: 16px; text-align: left !important;">${label}Ôºö${data.scores[i]}%</div>
    <div style="color: #555; font-size: 14px; text-align: left !important;">üí°${data.comments[i]}</div>
  </div>
`).join('');
      document.getElementById('compat-detail-text').innerHTML = detailText;
    }, 30);
  });
}
</script>

<!-- ‚ñº Áõ∏ÊÄß„ÅÆË©≥Á¥∞„É¢„Éº„ÉÄ„É´ -->
<div id="compat-detail-modal" style="
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
  z-index: 10000;
  align-items: center;
  justify-content: center;
  overflow-y: auto;
  padding: 60px 16px 40px 16px;
">
  <div style="
    background: #fff0f5;
    padding: 48px 28px 28px 28px;
    border-radius: 20px;
    border: 2px solid #ffcde0;
    box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    max-width: 90vw;
    width: 360px;
    font-family: 'Kosugi Maru', 'Noto Sans JP', sans-serif;
    text-align: center;
    position: relative;
    animation: fadeIn 0.5s ease;
    margin: 0 auto;
  ">

    <!-- ‚úÖ ‰∏≠Â§ÆÈÖçÁΩÆ„ÅÆ„Åü„ÇÅ„Å´flexbox„Åß„É©„ÉÉ„Éó -->
    <div style="
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      padding: 0;
      box-sizing: border-box;
    ">
     <canvas id="compat-radar" width="240" height="240" style="display: block;
         transform: translate(30px, 28px);
         background-color: #fff0f5;
         border-radius: 20px;
         box-shadow: 0 2px 6px rgba(0,0,0,0.2);">
</canvas>

    </div>

<div id="compat-detail-text" style="
  margin-top: 20px;
  font-size: 15px;
  line-height: 1.8;
  color: #444;
  text-align: left;
  width: 100%;
  padding: 0 12px 0 8px;
  box-sizing: border-box;
  display: block;
"></div>

    <button onclick="document.getElementById('compat-detail-modal').style.display='none'" style="
      position: absolute;
      top: 10px; right: 10px;
      width: 32px; height: 32px;
      background: #ffccd5;
      border: none;
      border-radius: 50%;
      font-size: 18px;
      color: #a00;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    ">‚úï</button>
  </div>
</div>

<!-- Chart.jsË™≠„ÅøËæº„Åø -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</div></div></body></html>